# Асинхронный парсер бюллетеней

Асинхронное скачивание файлов с сайта биржи (<https://spimex.com/markets/oil_products/trades/results/>), а также последующий парсинг и загрузку данных в БД (PostgreSQL).

## Структура приложения

- `app/database/` - Директория конфигураций БД
  - `database.py` - Настройки подключений к БД
  - `models.py` - Содержит модель `SpimexTradingResults`
  - `crud.py` - Содержит функцию вставки данных в таблицу `spimex_trading_results`
- `app/parsers/` - Директория запросов и парсинга
  - `parser.py` - Содержит класс `Parser`, который извлекает ссылки со страницы html
  - `scraper.py` - Содержит функции `fetch_page`(Получение страницы) и `fetch_file`(Получение файла)
- `app/utils/` - Директория обработки данных `*.xls`
  - `file_utils.py` - Содержит класс `XLSExtractor`, который извлекает и отдает нужные данные
- `app/config.py` - Основные настройки проекта
- `app/logging_config.py` - Конфигурации логирования
- `app/main.py` - Главный модуль
- `.env.example` - Образец файла переменных окружения
- `app/init_db.py` - Создает таблицу `spimex_trading_results` в БД
- `init.sh` - Скрипт запускает docker-контейнер `postgres`

## Сравнительная оценка скорости выполнения синхронного и асинхронного кода

### Синхронный код

Время выполнения синхронного кода: `~557.5` секунд (`~9` минут)

### Асинхронный код

Время выполнения асинхронного кода: `~45.1` секунд (`~0.75` минуты)

### Анализ

Асинхронный код в `~12` раз быстрее, чем синхронный.
